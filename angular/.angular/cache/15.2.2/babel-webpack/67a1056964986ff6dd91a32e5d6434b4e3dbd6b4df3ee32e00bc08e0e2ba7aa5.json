{"ast":null,"code":"// import { response } from 'express';\nimport { CocheModule } from 'src/app/models/coche/coche.module';\n// import { FormGroup, FormControl, Validators } from '@angular/forms';\n// Importamos el servicio de coches para que se pueda usar en el modelo de html\nimport { CocheService } from '../../services/coche.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/coche.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction CochesComponent_tr_202_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\")(26, \"a\", 85);\n    i0.ɵɵlistener(\"click\", function CochesComponent_tr_202_Template_a_click_26_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const coche_r15 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.editCoche(coche_r15));\n    });\n    i0.ɵɵelementStart(27, \"i\", 87);\n    i0.ɵɵtext(28, \"edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"a\", 85);\n    i0.ɵɵlistener(\"click\", function CochesComponent_tr_202_Template_a_click_29_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const coche_r15 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.deleteCoche(coche_r15._id));\n    });\n    i0.ɵɵelementStart(30, \"i\", 87);\n    i0.ɵɵtext(31, \"delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const coche_r15 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", coche_r15._id, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", coche_r15.marca, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", coche_r15.modelo, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", coche_r15.a_matricula, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", coche_r15.cantidad, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", coche_r15.carroceria, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", coche_r15.color, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", coche_r15.cv, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", coche_r15.etiqueta, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", coche_r15.propulsion, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", coche_r15.puertas, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", coche_r15.precio, \" \");\n  }\n}\n// Decorador de la clase\n// Exportamos la clase y la definimos\nexport class CochesComponent {\n  buscar() {\n    console.log(\"Buscando \" + this.criterio + \" que coincida con \" + this.busqueda);\n    switch (this.criterio) {\n      case \"TODOS\":\n        this.getCoches();\n        break;\n      case \"ID\":\n        this.cocheService.findByID(this.busqueda).subscribe(res => {\n          this.cocheService.coches = res;\n          console.log(res);\n        });\n        break;\n      case \"MARCA\":\n        console.log(\"Buscar por marca\");\n        this.cocheService.findByMarca(this.busqueda).subscribe(res => {\n          this.cocheService.coches = res;\n          console.log(res);\n        });\n        break;\n      case \"MODELO\":\n        this.cocheService.findByModelo(this.busqueda).subscribe(res => {\n          this.cocheService.coches = res;\n          console.log(res);\n        });\n        break;\n        break;\n      default:\n        break;\n    }\n  }\n  constructor(cocheService) {\n    // myForm = new FormGroup({\n    //   marca: new FormControl('', [\n    //     Validators.required,\n    //     Validators.minLength(3)\n    //   ]),\n    //   modelo: new FormControl('', [\n    //     Validators.required,\n    //     Validators.email\n    //   ]),\n    //   carroceria: new FormControl('', [\n    //     Validators.required,\n    //     Validators.minLength(10)\n    //   ])\n    // });\n    // onSubmit() {\n    //   console.log(this.myForm.value);\n    // }\n    this.busqueda = ''; // TExto por el que se va a buscar\n    this.criterio = ''; // Criterio para elejir la busqueda\n    this.cocheService = cocheService;\n  }\n  ngOnInit() {\n    console.log(\"iniciando\");\n    this.getCoches();\n  }\n  // // Definimos la funcion que va a manejar el formulario\n  addCoche(form) {\n    // En caso de que existe el id lo actualizamos\n    if (form.value._id) {\n      console.log(\"Editando coche\");\n      this.cocheService.putCoche(form.value).subscribe(res => {\n        var res_string = JSON.stringify(res);\n        var res_data = JSON.parse(res_string);\n        if (res_data.status == -1) {\n          M.toast({\n            html: 'Error Editing'\n          });\n        } else {\n          console.log(res);\n          this.resetForm(form);\n          M.toast({\n            html: \"Edit Succesfully\"\n          });\n          this.getCoches();\n        }\n      });\n    } else {\n      // En caso de que no exista el id lo eliminamos\n      console.log(form.value);\n      this.cocheService.postCoche(form.value)\n      // Con subscrive obtenemos la respuesta del servidor.\n      .subscribe(res => {\n        console.log(res);\n        var res_string = JSON.stringify(res);\n        var res_data = JSON.parse(res_string);\n        if (res_data.status == -1) {\n          M.toast({\n            html: 'Error Saving'\n          });\n        } else {\n          this.resetForm(form); // reseteamos el formulario \n          M.toast({\n            html: 'Save Succesfully'\n          });\n          this.getCoches();\n        }\n      });\n    }\n  }\n  getCoches() {\n    console.log(\"obtener coches\");\n    this.cocheService.getCoches().subscribe(res => {\n      this.cocheService.coches = res;\n      console.log(res);\n    });\n  }\n  editCoche(coche) {\n    console.log(\"Editar coche\");\n    this.cocheService.selectedCoche = coche;\n  }\n  deleteCoche(_id) {\n    console.log(\"Eliminar coche\");\n    this.cocheService.deleteCoche(_id).subscribe(res => {\n      console.log(res);\n      this.getCoches();\n      console.log(\"Coche eliminado\");\n      M.toast({\n        html: \"Eliminado con exito\"\n      });\n    });\n    this.getCoches();\n  }\n  resetForm(form, n) {\n    //n sirve para saber si el resetForm se ha hecho o no desde el propio programa o desde el html\n    if (form) {\n      form.reset();\n      this.cocheService.selectedCoche = new CocheModule();\n      if (n == 1) {\n        M.toast({\n          html: \"Formulario Borrado\"\n        });\n      }\n    }\n  }\n  findByMarca(marca) {\n    this.cocheService.findByMarca(marca).subscribe(res => {\n      this.cocheService.coches = res;\n      console.log(res);\n    });\n  }\n}\nCochesComponent.ɵfac = function CochesComponent_Factory(t) {\n  return new (t || CochesComponent)(i0.ɵɵdirectiveInject(i1.CocheService));\n};\nCochesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CochesComponent,\n  selectors: [[\"app-coches\"]],\n  features: [i0.ɵɵProvidersFeature([CocheService])],\n  decls: 203,\n  vars: 16,\n  consts: [[1, \"\"], [1, \"row\"], [1, \"col\", \"s4\"], [1, \"card\"], [1, \"card-content\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"cocheForm\", \"ngForm\"], [\"type\", \"hidden\", \"name\", \"_id\", 3, \"ngModel\", \"ngModelChange\"], [\"_id\", \"ngModel\"], [1, \"input-field\", \"col\", \"s6\"], [\"required\", \"\", \"type\", \"text\", \"name\", \"marca\", \"placeholder\", \"Marca\", 1, \"validate\", 3, \"ngModel\", \"ngModelChange\"], [\"marca\", \"ngModel\"], [\"required\", \"\", \"type\", \"text\", \"name\", \"modelo\", \"placeholder\", \"Modelo\", 1, \"validate\", 3, \"ngModel\", \"ngModelChange\"], [\"modelo\", \"ngModel\"], [\"for\", \"modelo\"], [1, \"row\", \"m6\"], [\"for\", \"color\"], [\"type\", \"color\", \"name\", \"color\", 1, \"validate\", 3, \"ngModel\", \"ngModelChange\"], [\"color\", \"ngModel\"], [\"for\", \"etiqueta\"], [\"required\", \"\", \"name\", \"etiqueta\", 1, \"icons\", 3, \"ngModel\", \"ngModelChange\"], [\"etiqueta\", \"ngModel\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [\"value\", \"B\", \"data-icon\", \"./icons/etiqueta_b.jpg\"], [\"value\", \"C\", \"data-icon\", \"./icons/etiqueta_c.jpg\"], [\"value\", \"0 emisiones\", \"data-icon\", \"./icons/etiqueta_0.jpg\"], [\"value\", \"ECO\", \"data-icon\", \"./icons/etiqueta_eco.jpg\"], [\"required\", \"\", \"type\", \"number\", \"name\", \"puertas\", \"placeholder\", \"Puertas\", 1, \"validate\", 3, \"ngModel\", \"ngModelChange\"], [\"puertas\", \"ngModel\"], [\"for\", \"puertas\"], [\"required\", \"\", \"type\", \"number\", \"name\", \"cv\", \"placeholder\", \"cv\", 1, \"validate\", 3, \"ngModel\", \"ngModelChange\"], [\"cv\", \"ngModel\"], [\"for\", \"cv\"], [1, \"input-field\", \"col\", \"s12\"], [\"required\", \"\", \"type\", \"number\", \"name\", \"a_matricula\", 1, \"validate\", 3, \"ngModel\", \"ngModelChange\"], [\"a_matricula\", \"ngModel\"], [\"for\", \"a_matricula\"], [\"required\", \"\", \"type\", \"number\", \"name\", \"cantidad\", \"placeholder\", \"cantidad\", 3, \"ngModel\", \"ngModelChange\"], [\"cantidad\", \"ngModel\"], [\"for\", \"cantidad\"], [\"required\", \"\", \"type\", \"number\", \"name\", \"precio\", \"placeholder\", \"Precio\", 3, \"ngModel\", \"ngModelChange\"], [\"precio\", \"ngModel\"], [\"for\", \"precio\"], [\"ngDefaultControl\", \"\", \"name\", \"propulsion\", 1, \"browser-default\", 3, \"ngModel\", \"ngModelChange\"], [\"propulsion\", \"ngModel\"], [\"value\", \"Electrico\"], [\"value\", \"Diesel\"], [\"value\", \"Hibrido\"], [\"value\", \"Hidrogeno\"], [\"required\", \"\", \"ngDefaultControl\", \"\", \"name\", \"carroceria\", 1, \"browser-default\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"Sed\\u00E1n\"], [\"value\", \"Berlina\"], [\"value\", \"SUV\"], [\"value\", \"Coup\\u00E9\"], [\"value\", \"Cabrio\"], [\"value\", \"Familiar\"], [\"value\", \"Compacto\"], [\"value\", \"Monovolumen\"], [\"value\", \"Furgoneta\"], [\"value\", \"Furgon\"], [\"value\", \"Autocaravana\"], [\"value\", \"Pick Up\"], [\"value\", \"Clasico\"], [\"value\", \"Super deportivo\"], [1, \"input-field\"], [\"required\", \"\", \"name\", \"traccion\", 1, \"browser-default\", 3, \"ngModel\", \"ngModelChange\"], [\"traccion\", \"ngModel\"], [\"value\", \"FWD\"], [\"value\", \"RWD\"], [\"value\", \"AWD\"], [\"value\", \"4WD\"], [\"value\", \"4x4\"], [1, \"card-action\", \"row\"], [1, \"btn\", \"left\", 3, \"click\"], [1, \"material-icons\", \"right\"], [1, \"btn\", \"right\", 3, \"click\"], [\"hidden\", \"\"], [1, \"col\", \"s8\"], [1, \"input-field\", \"col\", \"s12\", \"m6\"], [\"for\", \"\"], [\"type\", \"text\", 3, \"ngModel\", \"input\", \"ngModelChange\"], [3, \"ngModel\", \"ngModelChange\"], [\"value\", \"ID\"], [\"value\", \"MARCA\"], [\"value\", \"MODELO\"], [1, \"btn\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [1, \"material-icons\"]],\n  template: function CochesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r19 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"form\", 5, 6);\n      i0.ɵɵlistener(\"ngSubmit\", function CochesComponent_Template_form_ngSubmit_5_listener() {\n        i0.ɵɵrestoreView(_r19);\n        const _r0 = i0.ɵɵreference(6);\n        return i0.ɵɵresetView(ctx.addCoche(_r0));\n      });\n      i0.ɵɵelementStart(7, \"div\", 1)(8, \"input\", 7, 8);\n      i0.ɵɵlistener(\"ngModelChange\", function CochesComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.cocheService.selectedCoche._id = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 1)(11, \"div\", 9)(12, \"input\", 10, 11);\n      i0.ɵɵlistener(\"ngModelChange\", function CochesComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.cocheService.selectedCoche.marca = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"label\");\n      i0.ɵɵtext(15, \"Marca\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 9)(17, \"input\", 12, 13);\n      i0.ɵɵlistener(\"ngModelChange\", function CochesComponent_Template_input_ngModelChange_17_listener($event) {\n        return ctx.cocheService.selectedCoche.modelo = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"label\", 14);\n      i0.ɵɵtext(20, \"Modelo\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(21, \"div\", 15)(22, \"div\", 9)(23, \"div\")(24, \"label\", 16);\n      i0.ɵɵtext(25, \"Color\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"input\", 17, 18);\n      i0.ɵɵlistener(\"ngModelChange\", function CochesComponent_Template_input_ngModelChange_26_listener($event) {\n        return ctx.cocheService.selectedCoche.color = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(28, \"div\", 9)(29, \"div\")(30, \"label\", 19);\n      i0.ɵɵtext(31, \"Etiqueta\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(32, \"div\")(33, \"select\", 20, 21);\n      i0.ɵɵlistener(\"ngModelChange\", function CochesComponent_Template_select_ngModelChange_33_listener($event) {\n        return ctx.cocheService.selectedCoche.etiqueta = $event;\n      });\n      i0.ɵɵelementStart(35, \"option\", 22);\n      i0.ɵɵtext(36, \"Choose your option\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"option\", 23);\n      i0.ɵɵtext(38, \"B\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"option\", 24);\n      i0.ɵɵtext(40, \"C\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"option\", 25);\n      i0.ɵɵtext(42, \"0 emisiones\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"option\", 26);\n      i0.ɵɵtext(44, \"ECO\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(45, \"div\", 1)(46, \"div\", 9)(47, \"input\", 27, 28);\n      i0.ɵɵlistener(\"ngModelChange\", function CochesComponent_Template_input_ngModelChange_47_listener($event) {\n        return ctx.cocheService.selectedCoche.puertas = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"label\", 29);\n      i0.ɵɵtext(50, \"Puertas\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(51, \"div\", 9)(52, \"input\", 30, 31);\n      i0.ɵɵlistener(\"ngModelChange\", function CochesComponent_Template_input_ngModelChange_52_listener($event) {\n        return ctx.cocheService.selectedCoche.cv = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"label\", 32);\n      i0.ɵɵtext(55, \"CV\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(56, \"div\", 33)(57, \"input\", 34, 35);\n      i0.ɵɵlistener(\"ngModelChange\", function CochesComponent_Template_input_ngModelChange_57_listener($event) {\n        return ctx.cocheService.selectedCoche.a_matricula = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"label\", 36);\n      i0.ɵɵtext(60, \"A\\u00F1o de matriculaci\\u00F3n\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(61, \"div\", 1)(62, \"div\", 9)(63, \"input\", 37, 38);\n      i0.ɵɵlistener(\"ngModelChange\", function CochesComponent_Template_input_ngModelChange_63_listener($event) {\n        return ctx.cocheService.selectedCoche.cantidad = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(65, \"label\", 39);\n      i0.ɵɵtext(66, \"Cantidad\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(67, \"div\", 9)(68, \"input\", 40, 41);\n      i0.ɵɵlistener(\"ngModelChange\", function CochesComponent_Template_input_ngModelChange_68_listener($event) {\n        return ctx.cocheService.selectedCoche.precio = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(70, \"label\", 42);\n      i0.ɵɵtext(71, \"Precio\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(72, \"div\", 15)(73, \"div\", 9)(74, \"div\")(75, \"label\");\n      i0.ɵɵtext(76, \"Propulsion\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(77, \"div\")(78, \"select\", 43, 44);\n      i0.ɵɵlistener(\"ngModelChange\", function CochesComponent_Template_select_ngModelChange_78_listener($event) {\n        return ctx.cocheService.selectedCoche.propulsion = $event;\n      });\n      i0.ɵɵelementStart(80, \"option\", 22);\n      i0.ɵɵtext(81, \"Propulsion del coche\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(82, \"option\", 45);\n      i0.ɵɵtext(83, \"Electrico\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(84, \"option\", 46);\n      i0.ɵɵtext(85, \"Diesel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(86, \"option\", 47);\n      i0.ɵɵtext(87, \"Hibrido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(88, \"option\", 48);\n      i0.ɵɵtext(89, \"Hidrogeno\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(90, \"div\", 9)(91, \"div\")(92, \"label\");\n      i0.ɵɵtext(93, \"Carroceria\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(94, \"div\")(95, \"select\", 49, 44);\n      i0.ɵɵlistener(\"ngModelChange\", function CochesComponent_Template_select_ngModelChange_95_listener($event) {\n        return ctx.cocheService.selectedCoche.carroceria = $event;\n      });\n      i0.ɵɵelementStart(97, \"option\", 22);\n      i0.ɵɵtext(98, \"Carrocer\\u00EDa del coche\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(99, \"option\", 50);\n      i0.ɵɵtext(100, \"Sed\\u00E1n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(101, \"option\", 51);\n      i0.ɵɵtext(102, \"Berlina\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(103, \"option\", 52);\n      i0.ɵɵtext(104, \"SUV\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(105, \"option\", 53);\n      i0.ɵɵtext(106, \"Coup\\u00E9\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(107, \"option\", 54);\n      i0.ɵɵtext(108, \"Cabrio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(109, \"option\", 55);\n      i0.ɵɵtext(110, \"Familiar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(111, \"option\", 56);\n      i0.ɵɵtext(112, \"Compacto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(113, \"option\", 57);\n      i0.ɵɵtext(114, \"Monovolumen\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(115, \"option\", 58);\n      i0.ɵɵtext(116, \"Furgoneta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(117, \"option\", 59);\n      i0.ɵɵtext(118, \"Furgon\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(119, \"option\", 60);\n      i0.ɵɵtext(120, \"Autocaravana\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(121, \"option\", 61);\n      i0.ɵɵtext(122, \"Pick Up\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(123, \"option\", 62);\n      i0.ɵɵtext(124, \"Clasico\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(125, \"option\", 63);\n      i0.ɵɵtext(126, \"Coup\\u00E9\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelement(127, \"div\", 15);\n      i0.ɵɵelementStart(128, \"div\", 64)(129, \"div\")(130, \"label\");\n      i0.ɵɵtext(131, \"Tracci\\u00F3n\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(132, \"select\", 65, 66);\n      i0.ɵɵlistener(\"ngModelChange\", function CochesComponent_Template_select_ngModelChange_132_listener($event) {\n        return ctx.cocheService.selectedCoche.traccion = $event;\n      });\n      i0.ɵɵelementStart(134, \"option\", 22);\n      i0.ɵɵtext(135, \"Tracci\\u00F3n del coche\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(136, \"option\", 67);\n      i0.ɵɵtext(137, \"FWD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(138, \"option\", 68);\n      i0.ɵɵtext(139, \"RWD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(140, \"option\", 69);\n      i0.ɵɵtext(141, \"AWD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(142, \"option\", 70);\n      i0.ɵɵtext(143, \"4WD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(144, \"option\", 71);\n      i0.ɵɵtext(145, \"4x4\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(146, \"div\", 72)(147, \"a\", 73);\n      i0.ɵɵlistener(\"click\", function CochesComponent_Template_a_click_147_listener() {\n        i0.ɵɵrestoreView(_r19);\n        const _r0 = i0.ɵɵreference(6);\n        return i0.ɵɵresetView(ctx.addCoche(_r0));\n      });\n      i0.ɵɵtext(148, \"Save \");\n      i0.ɵɵelementStart(149, \"i\", 74);\n      i0.ɵɵtext(150, \" save \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(151, \"a\", 75);\n      i0.ɵɵlistener(\"click\", function CochesComponent_Template_a_click_151_listener() {\n        i0.ɵɵrestoreView(_r19);\n        const _r0 = i0.ɵɵreference(6);\n        return i0.ɵɵresetView(ctx.resetForm(_r0, 1));\n      });\n      i0.ɵɵtext(152, \"Clean \");\n      i0.ɵɵelementStart(153, \"i\", 74);\n      i0.ɵɵtext(154, \" clear_all \");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(155, \"button\", 76);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(156, \"div\", 77)(157, \"table\")(158, \"thead\")(159, \"th\");\n      i0.ɵɵtext(160, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(161, \"th\");\n      i0.ɵɵtext(162, \"Marca\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(163, \"th\");\n      i0.ɵɵtext(164, \"Modelo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(165, \"th\");\n      i0.ɵɵtext(166, \"A\\u00F1o de matriculaci\\u00F3n \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(167, \"th\");\n      i0.ɵɵtext(168, \"Cantidad\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(169, \"th\");\n      i0.ɵɵtext(170, \"Carroceria\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(171, \"th\");\n      i0.ɵɵtext(172, \"Color\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(173, \"th\");\n      i0.ɵɵtext(174, \"CV\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(175, \"th\");\n      i0.ɵɵtext(176, \"Etiqueta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(177, \"th\");\n      i0.ɵɵtext(178, \"Propulsi\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(179, \"th\");\n      i0.ɵɵtext(180, \"Puertas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(181, \"TH\");\n      i0.ɵɵtext(182, \"Precio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(183, \"th\", 78)(184, \"div\")(185, \"label\", 79);\n      i0.ɵɵtext(186, \"BUSCAR:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(187, \"input\", 80);\n      i0.ɵɵlistener(\"input\", function CochesComponent_Template_input_input_187_listener() {\n        return ctx.buscar();\n      })(\"ngModelChange\", function CochesComponent_Template_input_ngModelChange_187_listener($event) {\n        return ctx.busqueda = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(188, \"div\")(189, \"select\", 81);\n      i0.ɵɵlistener(\"ngModelChange\", function CochesComponent_Template_select_ngModelChange_189_listener($event) {\n        return ctx.criterio = $event;\n      });\n      i0.ɵɵelementStart(190, \"option\", 22);\n      i0.ɵɵtext(191, \"Buscar por:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(192, \"option\", 82);\n      i0.ɵɵtext(193, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(194, \"option\", 83);\n      i0.ɵɵtext(195, \"MARCA\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(196, \"option\", 84);\n      i0.ɵɵtext(197, \"MODELO\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(198, \"div\")(199, \"button\", 85);\n      i0.ɵɵlistener(\"click\", function CochesComponent_Template_button_click_199_listener() {\n        return ctx.getCoches();\n      });\n      i0.ɵɵtext(200, \"Todos\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(201, \"tbody\");\n      i0.ɵɵtemplate(202, CochesComponent_tr_202_Template, 32, 12, \"tr\", 86);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.cocheService.selectedCoche._id);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.cocheService.selectedCoche.marca);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.cocheService.selectedCoche.modelo);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.cocheService.selectedCoche.color);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.cocheService.selectedCoche.etiqueta);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.cocheService.selectedCoche.puertas);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.cocheService.selectedCoche.cv);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.cocheService.selectedCoche.a_matricula);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.cocheService.selectedCoche.cantidad);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.cocheService.selectedCoche.precio);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.cocheService.selectedCoche.propulsion);\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngModel\", ctx.cocheService.selectedCoche.carroceria);\n      i0.ɵɵadvance(37);\n      i0.ɵɵproperty(\"ngModel\", ctx.cocheService.selectedCoche.traccion);\n      i0.ɵɵadvance(55);\n      i0.ɵɵproperty(\"ngModel\", ctx.busqueda);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.criterio);\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngForOf\", ctx.cocheService.coches);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n  styles: [\".separar[_ngcontent-%COMP%]{\\n    display: flow-root;\\n}\\n\\n.container[_ngcontent-%COMP%]{\\n    max-height: 1000rem;\\n}\\n\\nselect[_ngcontent-%COMP%]{\\n    display: block;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jb2NoZXMvY29jaGVzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCIiwic291cmNlc0NvbnRlbnQiOlsiLnNlcGFyYXJ7XG4gICAgZGlzcGxheTogZmxvdy1yb290O1xufVxuXG4uY29udGFpbmVye1xuICAgIG1heC1oZWlnaHQ6IDEwMDByZW07XG59XG5cbnNlbGVjdHtcbiAgICBkaXNwbGF5OiBibG9jaztcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["CocheModule","CocheService","i0","CochesComponent","buscar","console","log","criterio","busqueda","getCoches","cocheService","findByID","subscribe","res","coches","findByMarca","findByModelo","constructor","ngOnInit","addCoche","form","value","_id","putCoche","res_string","JSON","stringify","res_data","parse","status","M","toast","html","resetForm","postCoche","editCoche","coche","selectedCoche","deleteCoche","n","reset","marca","selectors","features","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/pio/Documentos/Documentos_pablo/uni/3_curso/2do.cuatri/ast/practica/mean_final/angular/src/app/components/coches/coches.component.ts","/home/pio/Documentos/Documentos_pablo/uni/3_curso/2do.cuatri/ast/practica/mean_final/angular/src/app/components/coches/coches.component.html"],"sourcesContent":["import { Component , OnInit } from '@angular/core';\nimport {  NgForm } from '@angular/forms'; // Necesario para trabajar con formularios\nimport { json } from 'express';\n// import { response } from 'express';\nimport { CocheModule } from 'src/app/models/coche/coche.module';\n\n// import { FormGroup, FormControl, Validators } from '@angular/forms';\n\n\n\n\n\n// Importamos el servicio de coches para que se pueda usar en el modelo de html\nimport { CocheService } from '../../services/coche.service';\n\ndeclare var M: any; // Esto es de materialize para enviar alertas a los usuarios\n\n\n// Decorador de la clase\n@Component({\n  selector: 'app-coches', // Definimos como llamar al componente desde html\n  templateUrl: './coches.component.html', //url a la pagina html del componente\n  styleUrls: ['./coches.component.css'], // url a la pagina de estilos del componente\n  providers: [CocheService]\n\n})\n\n\n// Exportamos la clase y la definimos\nexport class CochesComponent {\n\n  // myForm = new FormGroup({\n  //   marca: new FormControl('', [\n  //     Validators.required,\n  //     Validators.minLength(3)\n  //   ]),\n  //   modelo: new FormControl('', [\n  //     Validators.required,\n  //     Validators.email\n  //   ]),\n  //   carroceria: new FormControl('', [\n  //     Validators.required,\n  //     Validators.minLength(10)\n  //   ])\n  // });\n\n  // onSubmit() {\n  //   console.log(this.myForm.value);\n  // }\n  busqueda: string = ''; // TExto por el que se va a buscar\n  criterio: string = ''; // Criterio para elejir la busqueda\n  buscar(){\n    console.log(\"Buscando \" + this.criterio +\" que coincida con \" + this.busqueda);\n    \n    switch (this.criterio) {\n      case \"TODOS\": \n        this.getCoches();\n        break;\n      case \"ID\":\n        this.cocheService.findByID(this.busqueda)\n          .subscribe(res =>{\n            this.cocheService.coches = res as CocheModule[];\n            console.log(res);\n          })\n        break;\n      case \"MARCA\":\n        console.log(\"Buscar por marca\");\n        \n        this.cocheService.findByMarca(this.busqueda)\n          .subscribe(res =>{\n            this.cocheService.coches = res as CocheModule[];\n            console.log(res);\n          })\n        break;\n      case \"MODELO\":\n        this.cocheService.findByModelo(this.busqueda)\n          .subscribe(res =>{\n            this.cocheService.coches = res as CocheModule[];\n            console.log(res);\n          })\n        break;\n        break;\n      default:\n        break;\n    }\n  }\n\n\n  // Creeamos el constructor de la clase y iniciamos el servicio de coche.\n  cocheService: CocheService;\n  constructor( cocheService: CocheService){\n    this.cocheService = cocheService;\n  }\n  \n  ngOnInit(){\n    console.log(\"iniciando\");\n    this.getCoches();\n  }\n\n  // // Definimos la funcion que va a manejar el formulario\n  addCoche(form:NgForm){\n    // En caso de que existe el id lo actualizamos\n    if (form.value._id){\n      console.log(\"Editando coche\");\n      this.cocheService.putCoche(form.value)\n\n        .subscribe(res =>{\n          var res_string = JSON.stringify(res);\n          var res_data = JSON.parse(res_string);\n          if(res_data.status == -1){\n            M.toast({html: 'Error Editing'});\n          }else{\n            console.log(res);\n            this.resetForm(form);\n            M.toast({html: \"Edit Succesfully\"});\n            this.getCoches();\n          }\n      })\n    } else{\n      // En caso de que no exista el id lo eliminamos\n      console.log(form.value);\n      this.cocheService.postCoche(form.value)\n      \n      // Con subscrive obtenemos la respuesta del servidor.\n        .subscribe(res => {\n          console.log(res)\n          var res_string = JSON.stringify(res);\n          var res_data = JSON.parse(res_string);\n          if(res_data.status == -1){\n            M.toast({html: 'Error Saving'});\n          }else{\n            this.resetForm(form); // reseteamos el formulario \n            M.toast({html: 'Save Succesfully'});\n            this.getCoches();\n          }\n        })\n      }\n  }\n\n  getCoches(){\n    console.log(\"obtener coches\");\n    \n    this.cocheService.getCoches()\n      .subscribe(res =>{\n        this.cocheService.coches = res as CocheModule[];\n        console.log(res);\n      })\n  }\n\n  \n  editCoche(coche: CocheModule){\n    console.log(\"Editar coche\");\n    \n    this.cocheService.selectedCoche = coche;\n  }\n\n  deleteCoche(_id: string){\n    console.log(\"Eliminar coche\");\n    \n    this.cocheService.deleteCoche(_id)\n      .subscribe(res => {\n        console.log(res);\n        this.getCoches();\n        console.log(\"Coche eliminado\");\n        M.toast({html: \"Eliminado con exito\"});\n        \n      })\n    this.getCoches();\n  }\n\n  resetForm(form?:NgForm, n?:Number){\n    //n sirve para saber si el resetForm se ha hecho o no desde el propio programa o desde el html\n    if (form) {\n      form.reset();\n      this.cocheService.selectedCoche = new CocheModule();\n      if (n==1){\n        M.toast({html: \"Formulario Borrado\"});\n      }\n    }\n  }\n  \n  \n  findByMarca(marca: string){\n    this.cocheService.findByMarca(marca)\n      .subscribe(res =>{\n        this.cocheService.coches = res as CocheModule[];\n        console.log(res);\n      })\n  }\n}\n","<div class=\"\">\n    <div class=\" row\">\n        <div class=\"col s4\">\n            <div class=\" card \">\n                <div class=\" card-content\">\n                    <form #cocheForm=\"ngForm\" novalidate (ngSubmit)=\"addCoche(cocheForm) \">\n                        <div class=\"row\">\n                            <input type=\"hidden\" name=\"_id\" #_id=\"ngModel\" [(ngModel)]=\"cocheService.selectedCoche._id\">\n                            \n                            <div class=\"row\">\n                                <div class=\"input-field col s6\">\n                                    <input required class=\"validate\" type=\"text\" name=\"marca\" #marca=\"ngModel\" [(ngModel)]=\"cocheService.selectedCoche.marca\" placeholder=\"Marca\">\n                                    <label>Marca</label>\n                                </div>\n                                <div class=\"input-field col s6\">\n                                    <input required class=\"validate\" type=\"text\" name=\"modelo\" #modelo=\"ngModel\" [(ngModel)]=\"cocheService.selectedCoche.modelo\" placeholder=\"Modelo\">\n                                    <label for=\"modelo\">Modelo</label>\n                                </div>\n                            </div>\n\n                            <div class=\"row m6\">\n                                <div class=\"input-field col s6\">\n                                    <div>\n                                        <label for=\"color\">Color</label>\n                                    </div>\n                                    <input type=\"color\" class=\"validate\" name=\"color\" #color=\"ngModel\" [(ngModel)]=\"cocheService.selectedCoche.color\">\n                                </div>\n                                \n                                <div class=\"input-field col s6\">\n                                    <div>\n                                        <label for=\"etiqueta\">Etiqueta</label>\n                                    </div>\n\n                                    <div>\n                                        <!-- <input required type=\"text\" name=\"etiqueta\" #etiqueta=\"ngModel\" [(ngModel)]=\"cocheService.selectedCoche.etiqueta\" placeholder=\"Etiqueta\"> -->\n                                        <select required class=\"icons\" name=\"etiqueta\" #etiqueta=\"ngModel\" [(ngModel)]=\"cocheService.selectedCoche.etiqueta\" >\n                                            <option value=\"\" disabled selected>Choose your option</option> \n                                            <option value=\"B\" data-icon=\"./icons/etiqueta_b.jpg\">B</option>\n                                            <option value=\"C\" data-icon=\"./icons/etiqueta_c.jpg\">C</option>\n                                            <option value=\"0 emisiones\" data-icon=\"./icons/etiqueta_0.jpg\">0 emisiones</option> \n                                            <option value=\"ECO\" data-icon=\"./icons/etiqueta_eco.jpg\">ECO</option> \n                                            \n                                        </select>\n                                    </div>\n                                </div>\n                            </div>\n                            <!-- <div class=\"input-field col s12 m6\">\n                            <label>Images in select</label>\n                            </div> -->\n\n                            <div class=\"row\">\n                                <div class=\"input-field col s6\">\n                                    <input required class=\"validate\" type=\"number\" name=\"puertas\" #puertas=\"ngModel\" [(ngModel)]=\"cocheService.selectedCoche.puertas\" placeholder=\"Puertas\">\n                                    <label for=\"puertas\">Puertas</label>\n                                </div>\n                                <div class=\"input-field col s6\">\n                                    <input required class=\"validate\" type=\"number\" name=\"cv\" #cv=\"ngModel\" [(ngModel)]=\"cocheService.selectedCoche.cv\" placeholder=\"cv\">\n                                    <label for=\"cv\">CV</label>\n                                </div>\n                            </div>\n                            <div class=\"input-field col s12\">\n                                <input required  type=\"number\" class=\"validate\" name=\"a_matricula\" #a_matricula=\"ngModel\" [(ngModel)]=\"cocheService.selectedCoche.a_matricula\">\n                                <label for=\"a_matricula\">Año de matriculación</label>\n                            </div>\n\n                            <div class=\"row\">\n                                <!-- <div class=\"input-field col s6\">\n                                    <input required type=\"number\" name=\"cantidad\" #cantidad=\"ngModel\" [(ngModel)]=\"cocheService.selectedCoche.cantidad\">\n                                    <label for=\"cantidad\">Cantidad</label>\n                                </div> -->\n                                <div class=\"input-field col s6\">\n                                    <input required type=\"number\" name=\"cantidad\" #cantidad=\"ngModel\" [(ngModel)]=\"cocheService.selectedCoche.cantidad\" placeholder=\"cantidad\">\n                                    <label for=\"cantidad\">Cantidad</label>\n                                </div>\n                                <div class=\"input-field col s6\">\n                                    <input required type=\"number\" name=\"precio\" #precio=\"ngModel\" [(ngModel)]=\"cocheService.selectedCoche.precio\" placeholder=\"Precio\">\n                                    <label for=\"precio\">Precio</label>\n                                </div>\n                            </div>\n\n                            \n                            \n                            <div class=\"row m6\">\n                                <div class=\"input-field col s6\">\n                                    <div >\n                                        <label>Propulsion</label>   \n                                    </div>\n                                    <div>\n                                        <select ngDefaultControl class=\"browser-default\"  name=\"propulsion\" #propulsion=\"ngModel\" [(ngModel)]=\"cocheService.selectedCoche.propulsion\" >\n                                            <option value=\"\" disabled selected>Propulsion del coche</option>\n                                            <option value=\"Electrico\">Electrico</option>\n                                            <option value=\"Diesel\">Diesel</option>\n                                            <option value=\"Hibrido\">Hibrido</option>\n                                            <option value=\"Hidrogeno\">Hidrogeno</option>\n                                        </select> \n                                    </div>\n                                </div>\n                                <div class=\"input-field  col s6\">\n                                    <div>                               \n                                        <label>Carroceria</label>\n                                    </div>\n                                    <div>\n                                        <select required ngDefaultControl class=\"browser-default\"  name=\"carroceria\" #propulsion=\"ngModel\" [(ngModel)]=\"cocheService.selectedCoche.carroceria\">\n                                            <option value=\"\" disabled selected>Carrocería del coche</option>\n                                            <option value=\"Sedán\">Sedán</option>\n                                            <option value=\"Berlina\">Berlina</option>\n                                            <option value=\"SUV\">SUV</option>\n                                            <option value=\"Coupé\">Coupé</option>\n                                            <option value=\"Cabrio\">Cabrio</option>\n                                            <option value=\"Familiar\">Familiar</option>\n                                            <option value=\"Compacto\">Compacto</option>\n                                            <option value=\"Monovolumen\">Monovolumen</option>\n                                            <option value=\"Furgoneta\">Furgoneta</option>\n                                            <option value=\"Furgon\">Furgon</option>\n                                            <option value=\"Autocaravana\">Autocaravana</option>\n                                            <option value=\"Pick Up\">Pick Up</option>\n                                            <option value=\"Clasico\">Clasico</option>\n                                            <option value=\"Super deportivo\">Coupé</option>\n                                        </select>    \n                                    </div>\n                                </div>\n                            </div>\n\n                           \n                              \n\n                            <div class=\"row m6\">\n                            </div>\n                            \n\n                            <div class=\"input-field\">\n                                <div>\n                                    <label>Tracción</label>\n                                </div>\n                                <select required class=\"browser-default\" name=\"traccion\" #traccion=\"ngModel\" [(ngModel)]=\"cocheService.selectedCoche.traccion\">\n                                  <option value=\"\" disabled selected>Tracción del coche</option>\n                                  <option value=\"FWD\">FWD</option>\n                                  <option value=\"RWD\">RWD</option>\n                                  <option value=\"AWD\">AWD</option>\n                                  <option value=\"4WD\">4WD</option>\n                                  <option value=\"4x4\">4x4</option>\n                                </select>    \n                            </div>\n                            \n                            <div class=\"card-action row\">\n                                <!-- (click)=\"addCoche(cocheForm)\" -->\n                                <a class=\"btn left\" (click)=\"addCoche(cocheForm)\">Save\n                                    <i class=\"material-icons right\"> save </i>\n                                </a>\n                                <a class=\"btn right\"  (click)=\"resetForm(cocheForm, 1)\">Clean\n                                    <i class = \"material-icons right\"> clear_all </i> \n                                </a>\n                                \n                            </div>\n                        </div>\n                        <!-- Para que funcione  -->\n                        <button hidden></button> \n                    </form>\n                </div>\n            </div>\n        </div>\n        <div class=\"col s8\">\n            <table>\n                <thead>\n                    <th>ID</th>\n                    <th>Marca</th>\n                    <th>Modelo</th>\n                    <th>Año de matriculación </th>\n                    <th>Cantidad</th>\n                    <th>Carroceria</th>\n                    <th>Color</th>\n                    <th>CV</th>\n                    <th>Etiqueta</th>\n                    <th>Propulsión</th>\n                    <th>Puertas</th>\n                    <TH>Precio</TH>\n                    <th class=\"input-field col s12 m6\">\n                        <div>\n                            <label for=\"\">BUSCAR:</label>\n                            <input (input)=\"buscar()\" type=\"text\" [(ngModel)]=\"busqueda\"> \n                        </div>\n                        <div>\n                            <select [(ngModel)]=\"criterio\">\n                                <option value=\"\" disabled selected>Buscar por:</option>\n                                <option value=\"ID\">ID</option>\n                                <option value=\"MARCA\">MARCA</option>\n                                <option value=\"MODELO\">MODELO</option>\n                            </select>\n                        </div>\n                        <div>\n                            <button class=\"btn\" (click)=\"getCoches()\">Todos</button>\n                        </div>\n                    </th>\n                <tbody>\n\n                    <tr *ngFor=\"let coche of cocheService.coches\">\n                        <td> {{coche._id}} </td>\n                        <td> {{coche.marca}} </td>\n                        <td> {{coche.modelo}} </td>\n                        <td> {{coche.a_matricula}} </td>\n                        <td> {{coche.cantidad}} </td>\n                        <td> {{coche.carroceria}} </td>\n                        <td> {{coche.color}} </td>\n                        <td> {{coche.cv}} </td>\n                        <td> {{coche.etiqueta}} </td>\n                        <td> {{coche.propulsion}} </td>\n                        <td> {{coche.puertas}} </td>\n                        <td> {{coche.precio}} </td>\n                        <td>\n                            <a (click)=\"editCoche(coche)\" class=\"btn\">\n                                <i class=\"material-icons\">edit</i>\n                            </a>\n                           \n                            <a (click)=\"deleteCoche(coche._id)\" class=\"btn\">\n                                <i class=\"material-icons\">delete</i>\n                            </a>\n                        </td>\n                        \n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}