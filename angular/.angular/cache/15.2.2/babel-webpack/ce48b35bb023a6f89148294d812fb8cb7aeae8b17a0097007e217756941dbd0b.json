{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CocheModule } from 'src/app/models/coche/coche.module';\n// Importamos el servicio de coches para que se pueda usar en el modelo de html\nimport { CocheService } from '../../services/coche.service';\n// Decorador de la clase\nlet CochesComponent = class CochesComponent {\n  constructor(cocheService) {\n    this.cocheService = cocheService;\n  }\n  ngOnInit() {\n    console.log(\"iniciado\");\n    this.getCoches();\n    // console.log( this.getCoches());\n  }\n  // // Definimos la funcion que va a manejar el formulario\n  addCoche(form) {\n    this.cocheService.postCoche(form.value)\n    // Con subscrive obtenemos la respuesta del servidor.\n    .subscribe(res => {\n      console.log(res);\n      this.resetForm(form); // reseteamos el formulario \n      M.toast({\n        html: 'Save Succesfully'\n      });\n      this.getCoches();\n    });\n  }\n  getCoches() {\n    this.cocheService.getCoches().subscribe(res => {\n      this.cocheService.coches = res;\n      console.log(res);\n    });\n  }\n  resetForm(form) {\n    if (form) {\n      form.reset();\n      this.cocheService.selectedCoche = new CocheModule();\n    }\n  }\n};\nCochesComponent = __decorate([Component({\n  selector: 'app-coches',\n  templateUrl: './coches.component.html',\n  styleUrls: ['./coches.component.css'],\n  providers: [CocheService]\n})\n// Exportamos la clase y la definimos\n], CochesComponent);\nexport { CochesComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAEzC,SAASC,WAAW,QAAQ,mCAAmC;AAE/D;AACA,SAASC,YAAY,QAAQ,8BAA8B;AAK3D;AASO,IAAMC,eAAe,GAArB,MAAMA,eAAe;EAI1BC,YAAaC,YAA0B;IACrC,IAAI,CAACA,YAAY,GAAGA,YAAY;EAClC;EAEAC,QAAQ;IACNC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;IAEvB,IAAI,CAACC,SAAS,EAAE;IAEhB;EAEF;EAEA;EACAC,QAAQ,CAACC,IAAW;IAClB,IAAI,CAACN,YAAY,CAACO,SAAS,CAACD,IAAI,CAACE,KAAK;IAEtC;IAAA,CACGC,SAAS,CAACC,GAAG,IAAG;MACfR,OAAO,CAACC,GAAG,CAACO,GAAG,CAAC;MAChB,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,CAAC,CAAC;MACtBM,CAAC,CAACC,KAAK,CAAC;QAACC,IAAI,EAAE;MAAkB,CAAC,CAAC;MACnC,IAAI,CAACV,SAAS,EAAE;IAClB,CAAC,CAAC;EACN;EAEAA,SAAS;IACP,IAAI,CAACJ,YAAY,CAACI,SAAS,EAAE,CAC1BK,SAAS,CAACC,GAAG,IAAG;MACf,IAAI,CAACV,YAAY,CAACe,MAAM,GAAGL,GAAoB;MAC/CR,OAAO,CAACC,GAAG,CAACO,GAAG,CAAC;IAElB,CAAC,CAAC;EACN;EAEAC,SAAS,CAACL,IAAa;IACrB,IAAIA,IAAI,EAAE;MACRA,IAAI,CAACU,KAAK,EAAE;MACZ,IAAI,CAAChB,YAAY,CAACiB,aAAa,GAAG,IAAIrB,WAAW;;EAErD;CAED;AA9CYE,eAAe,eAR3BH,SAAS,CAAC;EACTuB,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,wBAAwB,CAAC;EACrCC,SAAS,EAAE,CAACxB,YAAY;CACzB;AAED;AAAA,GACaC,eAAe,CA8C3B;SA9CYA,eAAe","names":["Component","CocheModule","CocheService","CochesComponent","constructor","cocheService","ngOnInit","console","log","getCoches","addCoche","form","postCoche","value","subscribe","res","resetForm","M","toast","html","coches","reset","selectedCoche","selector","templateUrl","styleUrls","providers"],"sourceRoot":"","sources":["/home/pio/Documentos/Documentos_pablo/uni/3_curso/2do.cuatri/ast/practica/mean_curso/angular/src/app/components/coches/coches.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { NgForm } from '@angular/forms'; // Necesario para trabajar con formularios\nimport { CocheModule } from 'src/app/models/coche/coche.module';\n\n// Importamos el servicio de coches para que se pueda usar en el modelo de html\nimport { CocheService } from '../../services/coche.service';\n\ndeclare var M: any; // Esto es de materialize para enviar alertas a los usuarios\n\n\n// Decorador de la clase\n@Component({\n  selector: 'app-coches', // Definimos como llamar al componente desde html\n  templateUrl: './coches.component.html', //url a la pagina html del componente\n  styleUrls: ['./coches.component.css'], // url a la pagina de estilos del componente\n  providers: [CocheService]\n})\n\n// Exportamos la clase y la definimos\nexport class CochesComponent {\n\n  // Creeamos el constructor de la clase y iniciamos el servicio de coche.\n  cocheService: CocheService;\n  constructor( cocheService: CocheService){\n    this.cocheService = cocheService;\n  }\n\n  ngOnInit(){\n    console.log(\"iniciado\");\n    \n    this.getCoches();\n\n    // console.log( this.getCoches());\n    \n  }\n\n  // // Definimos la funcion que va a manejar el formulario\n  addCoche(form:NgForm){\n    this.cocheService.postCoche(form.value)\n\n    // Con subscrive obtenemos la respuesta del servidor.\n      .subscribe(res => {\n        console.log(res)\n        this.resetForm(form); // reseteamos el formulario \n        M.toast({html: 'Save Succesfully'});\n        this.getCoches();\n      })\n  }\n\n  getCoches(){\n    this.cocheService.getCoches()\n      .subscribe(res =>{\n        this.cocheService.coches = res as CocheModule[];\n        console.log(res);\n        \n      })\n  }\n\n  resetForm(form?: NgForm){\n    if (form) {\n      form.reset();\n      this.cocheService.selectedCoche = new CocheModule;\n    }\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}